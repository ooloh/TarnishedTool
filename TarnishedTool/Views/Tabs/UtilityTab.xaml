<UserControl x:Class="TarnishedTool.Views.Tabs.UtilityTab"
             xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
             xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
             xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
             xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
             xmlns:xctk="http://schemas.xceed.com/wpf/xaml/toolkit"
             xmlns:converters="clr-namespace:TarnishedTool.Converters"
             mc:Ignorable="d"
             d:DesignHeight="720" d:DesignWidth="600">

    <UserControl.Resources>
        <converters:BooleanAndConverter x:Key="BooleanAndConverter" />
        <converters:InverseBooleanConverter x:Key="InverseBooleanConverter" />
        <BooleanToVisibilityConverter x:Key="BooleanToVisibilityConverter" />
        <converters:BooleanOrConverter x:Key="BooleanOrConverter" />
    </UserControl.Resources>
    <Grid Margin="10">
        <Grid.RowDefinitions>
            <RowDefinition Height="Auto" />
            <RowDefinition Height="Auto" />
            <RowDefinition Height="Auto" />
            <RowDefinition Height="Auto" />
            <RowDefinition Height="Auto" />
        </Grid.RowDefinitions>

        <Border Grid.Row="0"
                BorderThickness="1"
                BorderBrush="#333"
                CornerRadius="3"
                Margin="0,0,0,5">
            <StackPanel Margin="10">
                <Grid>
                    <Grid.ColumnDefinitions>
                        <ColumnDefinition Width="Auto" />
                        <ColumnDefinition Width="*" />
                    </Grid.ColumnDefinitions>

                    <TextBlock Text="General"
                               Grid.Column="0" />
                </Grid>

                <StackPanel Margin="0,5,0,0">
                    <StackPanel Orientation="Horizontal" Margin="0,0,0,3" VerticalAlignment="Center">
                        <CheckBox Content="Open Map in Combat"
                                  IsChecked="{Binding IsCombatMapEnabled}"
                                  VerticalAlignment="Center"
                                  Margin="0,0,20,0" />
                        <CheckBox Content="Warp in Dungeons"
                                  IsChecked="{Binding IsDungeonWarpEnabled}"
                                  VerticalAlignment="Center"
                                  Margin="0,0,20,0" />
                        <Button Content="Force Save"
                                IsEnabled="{Binding AreOptionsEnabled}"
                                Padding="5,3"
                                Command="{Binding SaveCommand}"
                                Margin="0,0,20,0" />

                        <Button Content="Trigger next NG cycle"
                                IsEnabled="{Binding AreOptionsEnabled}"
                                Padding="5,3"
                                Command="{Binding TriggerNgCycleCommand}"
                                Margin="0,0,0,0" />
                    </StackPanel>

                    <StackPanel Orientation="Horizontal" VerticalAlignment="Center" Margin="0,10,0,0">
                        <xctk:DoubleUpDown
                            Value="{Binding GameSpeed}"
                            TextAlignment="Center"
                            Width="80"
                            Minimum="0.50"
                            Maximum="5"
                            Increment="0.50"
                            FormatString="F2"
                            BorderBrush="#3F3F46" />
                        <TextBlock Text="Game Speed" VerticalAlignment="Center" Margin="10,0,30,0" />
                        <CheckBox Content="Remember Speed"
                                  IsChecked="{Binding IsRememberSpeedEnabled}"
                                  VerticalAlignment="Center"
                                  Margin="0,0,10,0" />
                        <Border
                            Background="#3498db"
                            CornerRadius="10"
                            Width="12"
                            Height="12"
                            Margin="5,0,0,0"
                            VerticalAlignment="Center"
                            ToolTip="Remember toggled speed across app restarts"
                            ToolTipService.InitialShowDelay='100'>
                            <TextBlock Text="i"
                                       Foreground="White"
                                       HorizontalAlignment="Center"
                                       VerticalAlignment="Center"
                                       FontWeight="Bold"
                                       FontSize="10" />
                        </Border>
                        <CheckBox Content="Freeze World"
                                  IsChecked="{Binding IsFreezeWorldEnabled}"
                                  Margin="20,0,0,0"
                                  VerticalAlignment="Center"
                                  IsEnabled="{Binding AreOptionsEnabled}" />

                        <Border
                            Background="#3498db"
                            CornerRadius="10"
                            Width="12"
                            Height="12"
                            Margin="5,0,0,0"
                            VerticalAlignment="Center"
                            ToolTip="Advance by frame by pressing triangle"
                            ToolTipService.InitialShowDelay='100'>
                            <TextBlock Text="i"
                                       Foreground="White"
                                       HorizontalAlignment="Center"
                                       VerticalAlignment="Center"
                                       FontWeight="Bold"
                                       FontSize="10" />
                        </Border>
                    </StackPanel>
                    <StackPanel Orientation="Horizontal" Margin="0,10,0,0">
                        <CheckBox Content="100% Drop"
                                  IsChecked="{Binding IsGuaranteedDropEnabled}"
                                  VerticalAlignment="Center" />
                        
                        <TextBlock Margin="15,0,0,0" Text="Set FPS cap"></TextBlock>
                        <xctk:IntegerUpDown
                            Margin="5,0,0,0"
                            Value="{Binding Fps}"
                            TextAlignment="Center"
                            Width="100"
                            Minimum="1"
                            Maximum="1000"
                            IsEnabled="{Binding AreOptionsEnabled}"
                            BorderBrush="#3F3F46"
                            ></xctk:IntegerUpDown>
                    </StackPanel>
                </StackPanel>
            </StackPanel>
        </Border>

        <TabControl Grid.Row="2" Height="170">
            <TabItem Header="No Clip / Camera">
                <Grid Margin="10">
                    <Grid.ColumnDefinitions>
                        <ColumnDefinition Width="Auto" />
                        <ColumnDefinition Width="*" />
                    </Grid.ColumnDefinitions>

                    <Border Grid.Column="0"
                            BorderThickness="1"
                            BorderBrush="#333"
                            CornerRadius="3"
                            Margin="0,0,10,0"
                            Padding="10">
                        <StackPanel>
                            <StackPanel Orientation="Horizontal">
                                <CheckBox Content="No Clip"
                                          IsChecked="{Binding IsNoClipEnabled}"
                                          IsEnabled="{Binding AreOptionsEnabled}"
                                          VerticalAlignment="Center"
                                          Margin="0,0,5,0" />
                                <Border
                                    Background="#3498db"
                                    CornerRadius="10"
                                    Width="12"
                                    Height="12"
                                    Margin="5,0,0,0"
                                    VerticalAlignment="Center"
                                    ToolTip="Vertical movement with Ctrl/Space or L2/R2 on controller"
                                    ToolTipService.InitialShowDelay="100">
                                    <TextBlock Text="i"
                                               Foreground="White"
                                               HorizontalAlignment="Center"
                                               VerticalAlignment="Center"
                                               FontWeight="Bold"
                                               FontSize="10" />
                                </Border>
                            </StackPanel>

                            <StackPanel Orientation="Horizontal" Margin="0,10,0,0">
                                <xctk:DoubleUpDown
                                    Value="{Binding NoClipSpeed}"
                                    TextAlignment="Center"
                                    Width="80"
                                    Minimum="0.5"
                                    Maximum="5.0"
                                    Increment="0.50"
                                    FormatString="F2"
                                    IsEnabled="{Binding IsNoClipEnabled}"
                                    BorderBrush="#3F3F46" />
                                <TextBlock Text="Speed" VerticalAlignment="Center" Margin="5,0,0,0" />
                            </StackPanel>

                            <StackPanel Orientation="Horizontal" Margin="0,10,0,0">
                                <CheckBox Content="Disable KB"
                                          IsChecked="{Binding IsNoClipKeyboardDisableEnabled}"
                                          IsEnabled="{Binding AreOptionsEnabled}"
                                          VerticalAlignment="Center"
                                          Margin="0,0,5,0" />
                                <Border
                                    Background="#3498db"
                                    CornerRadius="10"
                                    Width="12"
                                    Height="12"
                                    Margin="5,0,0,0"
                                    VerticalAlignment="Center"
                                    ToolTip="Option to disable CTRL and space for vertical movement on keyboard"
                                    ToolTipService.InitialShowDelay="100">
                                    <TextBlock Text="i"
                                               Foreground="White"
                                               HorizontalAlignment="Center"
                                               VerticalAlignment="Center"
                                               FontWeight="Bold"
                                               FontSize="10" />
                                </Border>
                            </StackPanel>
                        </StackPanel>
                    </Border>

                    <Border Grid.Column="1"
                            BorderThickness="1"
                            BorderBrush="#333"
                            CornerRadius="3"
                            Padding="10">
                        <StackPanel>
                            <StackPanel Orientation="Horizontal" Margin="0,0,0,5">
                                <CheckBox Content="Free Cam"
                                          IsChecked="{Binding IsFreeCamEnabled}"
                                          IsEnabled="{Binding AreOptionsEnabled}"
                                          VerticalAlignment="Center" />
                                <Border
                                    Background="#3498db"
                                    CornerRadius="10"
                                    Width="12"
                                    Height="12"
                                    Margin="5,0,10,0"
                                    VerticalAlignment="Center"
                                    ToolTip="Only works with controller for now"
                                    ToolTipService.InitialShowDelay="100">
                                    <TextBlock Text="i"
                                               Foreground="White"
                                               HorizontalAlignment="Center"
                                               VerticalAlignment="Center"
                                               FontWeight="Bold"
                                               FontSize="10" />
                                </Border>
                            </StackPanel>

                            <CheckBox Content="Player Movement"
                                      IsChecked="{Binding IsPlayerMovementEnabled}"
                                      Margin="0,0,0,10"
                                      VerticalAlignment="Center">
                                <CheckBox.IsEnabled>
                                    <MultiBinding Converter="{StaticResource BooleanAndConverter}">
                                        <Binding Path="AreOptionsEnabled" />
                                        <Binding Path="IsFreeCamEnabled" />
                                    </MultiBinding>
                                </CheckBox.IsEnabled>
                            </CheckBox>

                            <Button Content="Move Free Cam to Player"
                                    Command="{Binding MoveCamToPlayerCommand}"
                                    IsEnabled="{Binding IsFreeCamEnabled}"
                                    Padding="5,0"
                                    Margin="0,0,0,5"
                                    HorizontalAlignment="Left" />
                            <Button Content="Move Player to Free Cam"
                                    Command="{Binding MovePlayerToCamCommand}"
                                    IsEnabled="{Binding IsFreeCamEnabled}"
                                    Padding="5,0"
                                    HorizontalAlignment="Left" />
                        </StackPanel>
                    </Border>
                </Grid>
            </TabItem>
        </TabControl>


        <Border Grid.Row="3"
                BorderThickness="1"
                BorderBrush="#333"
                CornerRadius="3"
                Margin="0,0,0,5">
            <StackPanel Margin="10">
                <Grid>
                    <Grid.ColumnDefinitions>
                        <ColumnDefinition Width="Auto" />
                        <ColumnDefinition Width="Auto" />
                    </Grid.ColumnDefinitions>

                    <TextBlock Text="Rendering"
                               Grid.Column="0" />
                </Grid>

                <Grid Margin="10,5,0,0">
                    <Grid.ColumnDefinitions>
                        <ColumnDefinition Width="Auto" />
                        <ColumnDefinition Width="Auto" />
                        <ColumnDefinition Width="Auto" />
                        <ColumnDefinition Width="Auto" />
                    </Grid.ColumnDefinitions>

                    <Grid.RowDefinitions>
                        <RowDefinition Height="Auto" />
                        <RowDefinition Height="Auto" />
                        <RowDefinition Height="Auto" />
                        <RowDefinition Height="Auto" />
                    </Grid.RowDefinitions>

                    <CheckBox Content="Draw hitbox"
                              IsChecked="{Binding IsDrawHitboxEnabled}"
                              Grid.Column="0" Grid.Row="0"
                              Margin="0,0,5,0" />

                    <CheckBox Content="Player Sound"
                              IsChecked="{Binding IsDrawPlayerSoundEnabled}"
                              Grid.Column="0" Grid.Row="1"
                              Margin="0,2,5,2" />
                    <CheckBox Content="Ragdolls"
                              IsChecked="{Binding IsDrawRagdollsEnabled}"
                              Grid.Column="0" Grid.Row="2"
                              Margin="0,0,5,0" />
                    <CheckBox Content="Poise Bars"
                              IsChecked="{Binding IsDrawPoiseBarsEnabled}"
                              Grid.Column="0" Grid.Row="3"
                              Margin="0,0,5,0" />

                    <CheckBox Content="Draw Low Hit"
                              IsChecked="{Binding IsDrawLowHitEnabled}"
                              Grid.Column="1" Grid.Row="0"
                              Margin="5,2" />

                    <CheckBox Content="Draw High Hit"
                              IsChecked="{Binding IsDrawHighHitEnabled}"
                              Grid.Column="1" Grid.Row="1"
                              Margin="5,2,5,2" />
                    <StackPanel Grid.Column="1" Grid.Row="2" Orientation="Horizontal"
                                Margin="10,2,5,0">
                        <TextBlock Text="Mode: " Margin="0,0,10,0" VerticalAlignment="Center" />
                        <xctk:IntegerUpDown Width="50" Height="20"
                                            Value="{Binding ColDrawMode, UpdateSourceTrigger=PropertyChanged}"
                                            Minimum="0"
                                            Maximum="5"
                                            VerticalAlignment="Center">
                            <xctk:IntegerUpDown.IsEnabled>
                                <MultiBinding Converter="{StaticResource BooleanOrConverter}">
                                    <Binding Path="IsDrawLowHitEnabled" />
                                    <Binding Path="IsDrawHighHitEnabled" />
                                </MultiBinding>
                            </xctk:IntegerUpDown.IsEnabled>
                        </xctk:IntegerUpDown>
                    </StackPanel>

                    <CheckBox Content="Draw Map Tiles 1"
                              IsChecked="{Binding IsDrawMapTiles1Enabled}"
                              Grid.Column="2" Grid.Row="0"
                              Margin="5, 0, 0,2" />

                    <CheckBox Content="Draw Map Tiles 2"
                              IsChecked="{Binding IsDrawMapTiles2Enabled}"
                              Grid.Column="2" Grid.Row="1"
                              Margin="5, 0, 0,2" />

                    <CheckBox Content="Draw Mini Map"
                              IsChecked="{Binding IsDrawMiniMapEnabled}"
                              Grid.Column="2" Grid.Row="2"
                              Margin="5, 0, 0,2" />
                    <CheckBox Content="Draw Tiles on World Map"
                              IsChecked="{Binding IsDrawTilesOnMapEnabled}"
                              Grid.Column="2" Grid.Row="3"
                              Margin="5, 0, 0,2" />


                    <CheckBox Content="Hide Map"
                              IsChecked="{Binding IsHideMapEnabled}"
                              Grid.Column="3" Grid.Row="0"
                              Margin="5, 0, 0,2" />

                    <CheckBox Content="Hide Characters"
                              IsChecked="{Binding IsHideCharactersEnabled}"
                              Grid.Column="3" Grid.Row="1"
                              Margin="5, 0, 0,2" />

                </Grid>
            </StackPanel>
        </Border>
        <Border Grid.Row="4"
                BorderThickness="1"
                BorderBrush="#333"
                CornerRadius="3"
                Margin="0,0,0,5">
            <TabControl Padding="10">
                <TabItem Header="Menus">
                    <WrapPanel>
                        <Button
                            Content="Level Up"
                            Command="{Binding OpenLevelUpCommand}"
                            IsEnabled="{Binding AreOptionsEnabled}"
                            Margin="0,0,10,0" />
                        <Button
                            Content="Allot Flasks"
                            Command="{Binding OpenAllotCommand}"
                            IsEnabled="{Binding AreOptionsEnabled}"
                            Margin="0,0,10,0" />
                        <Button
                            Content="Memorize Spells"
                            Command="{Binding AttunementCommand}"
                            IsEnabled="{Binding AreOptionsEnabled}"
                            Margin="0,0,10,0" />
                        <Button
                            Content="Mix Physick"
                            Command="{Binding OpenPhysickCommand}"
                            IsEnabled="{Binding AreOptionsEnabled}"
                            Margin="0,0,10,0" />
                        <Button
                            Content="Open Chest"
                            Command="{Binding OpenChestCommand}"
                            IsEnabled="{Binding AreOptionsEnabled}"
                            Margin="0,0,10,0" />
                        <Button
                            Content="Great Runes"
                            Command="{Binding OpenGreatRunesCommand}"
                            IsEnabled="{Binding AreOptionsEnabled}"
                            Margin="0,0,0,0" />
                        <Button
                            Content="Ashes of War"
                            Command="{Binding OpenAowCommand}"
                            IsEnabled="{Binding AreOptionsEnabled}"
                            Margin="0,10,10,0" />
                        <Button
                            Content="Alter Garments"
                            Command="{Binding OpenAlterGarmentsCommand}"
                            IsEnabled="{Binding AreOptionsEnabled}"
                            Margin="0,10,10,0" />
                        <Button
                            Content="Upgrade"
                            Command="{Binding OpenUpgradeCommand}"
                            IsEnabled="{Binding AreOptionsEnabled}"
                            Margin="0,10,10,0" />
                        <Button
                            Content="Sell"
                            Command="{Binding OpenSellCommand}"
                            IsEnabled="{Binding AreOptionsEnabled}"
                            Margin="0,10,10,0" />
                        <Button
                            Content="Rebirth"
                            Command="{Binding OpenRebirthCommand}"
                            IsEnabled="{Binding AreOptionsEnabled}"
                            Margin="0,10,10,0" />
                        <Button
                            Content="Upgrade Flask"
                            Command="{Binding UpgradeFlaskCommand}"
                            Margin="0,10,10,0">
                            <Button.IsEnabled>
                                <MultiBinding Converter="{StaticResource BooleanAndConverter}">
                                    <Binding Path="AreOptionsEnabled" />
                                    <Binding Path="IsUpgradingFlask"
                                             Converter="{StaticResource InverseBooleanConverter}" />
                                </MultiBinding>
                            </Button.IsEnabled>
                        </Button>

                        <Button
                            Content="Increase Flask Charges"
                            Command="{Binding IncreaseChargesCommand}"
                            Margin="0,10,10,0">
                            <Button.IsEnabled>
                                <MultiBinding Converter="{StaticResource BooleanAndConverter}">
                                    <Binding Path="AreOptionsEnabled" />
                                    <Binding Path="IsIncreasingCharges"
                                             Converter="{StaticResource InverseBooleanConverter}" />
                                </MultiBinding>
                            </Button.IsEnabled>
                        </Button>
                        <Button
                            Content="Open Mirror"
                            Command="{Binding OpenMirrorCommand}"
                            IsEnabled="{Binding AreOptionsEnabled}"
                            Margin="0,10,10,0"/>
                    </WrapPanel>
                </TabItem>

                <TabItem Header="Shops">
                    <StackPanel Orientation="Horizontal">
                        <Button Content="Open shops"
                                Command="{Binding OpenShopSelectorCommand}" />

                        <CheckBox
                            Content="Show full shop lineup"
                            IsChecked="{Binding IsShowFullShopLineupEnabled}"
                            Margin="15,0,0,0" />
                    </StackPanel>
                </TabItem>

            </TabControl>
        </Border>
    </Grid>

</UserControl>
